jQuery((function(i){var e=!1;function t(){i("#emwi-urls").val(""),i("#emwi-hidden").hide(),i("#emwi-error").text(""),i("#emwi-width").val(""),i("#emwi-height").val(""),i("#emwi-mime-type").val("")}i("body").on("click","#emwi-clear",(function(i){t()})),i("body").on("click","#emwi-show",(function(e){i("#emwi-media-new-panel").show(),e.preventDefault()})),i("body").on("click","#emwi-in-upload-ui #emwi-add",(function(a){if(!e){e=!0,i("#emwi-in-upload-ui #emwi-add").prop("disabled",!0);var d={urls:i("#emwi-urls").val(),width:i("#emwi-width").val(),height:i("#emwi-height").val(),"mime-type":i("#emwi-mime-type").val()};wp.media.post("add_external_media_without_import",d).done((function(a){var d=wp.media.frame||wp.media.library;if(d){d.content.mode("browse");var n=d.state().get("library")||d.library;a.attachments.forEach((function(i){var e=wp.media.model.Attachment.create(i);if(e.fetch(),n.add(e?[e]:[]),"library"!==wp.media.frame._state){var t=d.state().get("selection");t&&t.add(e)}}))}a.error?(i("#emwi-error").text(a.error),i("#emwi-width").val(a.width),i("#emwi-height").val(a.height),i("#emwi-mime-type").val(a["mime-type"]),i("#emwi-hidden").show()):(t(),i("#emwi-hidden").hide()),i("#emwi-urls").val(a.urls),i("#emwi-buttons-row .spinner").css("visibility","hidden"),i("#emwi-in-upload-ui #emwi-add").prop("disabled",!1),e=!1})).fail((function(t){i("#emwi-error").text("An unknown network error occured"),i("#emwi-buttons-row .spinner").css("visibility","hidden"),i("#emwi-in-upload-ui #emwi-add").prop("disabled",!1),e=!1})),a.preventDefault(),i("#emwi-buttons-row .spinner").css("visibility","visible")}})),i("body").on("click","#emwi-in-upload-ui #emwi-cancel",(function(a){t(),i("#emwi-media-new-panel").hide(),i("#emwi-buttons-row .spinner").css("visibility","hidden"),i("#emwi-in-upload-ui #emwi-add").prop("disabled",!1),e=!1,a.preventDefault()}))}));