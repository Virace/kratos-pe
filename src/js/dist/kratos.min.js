(()=>{(function(){"use strict";const s="1.0.0-rc",o=function(){const a=$(".dropdown-menu");function n(){const f=window.scrollY,l=$(".k-nav.navbar");f>0?(l.addClass("navbar-scrolled"),a.addClass("navbar-scrolled")):(l.removeClass("navbar-scrolled"),a.removeClass("navbar-scrolled"))}$(window).scroll(n),$(document).ready(n),$(".auto-hiding-navbar").autoHidingNavbar({animationDuration:500,showOnBottom:!1,showOnUpscroll:!0});const t=$(".dropdown"),i=$(".dropdown-toggle");$(window).on("load resize",function(){if(this.matchMedia("(min-width: 992px)").matches){t.hover(function(){const l=$(this);l.find(a).stop().fadeIn("fast"),l.find(i).attr("aria-expanded","true")},function(){const l=$(this);l.find(a).stop().fadeOut("fast"),l.find(i).attr("aria-expanded","false")});let f=$(".navbar")[0].offsetHeight+75;$("body").scrollspy({target:"#toc",offset:f})}else t.off("mouseenter mouseleave")});const e=$("#navbarResponsive").clone();e.removeAttr("id"),e.attr({class:"mobi-navbar"}),e.find("*").removeAttr("id"),e.find("*:not(.dropdown)").removeAttr("class"),e.find("*").removeAttr("role"),e.find("*").removeAttr("aria-current"),e.find("*").removeAttr("aria-haspopup"),e.find("*").removeAttr("aria-expanded"),e.find("*").removeAttr("data-toggle"),e.find("*").removeAttr("aria-labelledby"),e.find("> ul").attr({class:"mobi-menu"}),e.find("li > ul").attr({class:"mobi-menu-sub"}),e.find(".dropdown").attr({class:"dropdown"}),$("header.k-header").prepend(e);const h=$(".mobi-navbar li.dropdown");for(let f=0;f<h.length;f++){const l=$(h[f]);l.find(".m-dropdown").length===0&&l.append('<div class="m-dropdown"><span class="vicon i-down"></span></div>')}$("#navbutton").on("click",function(f){$("body").toggleClass("menu-on"),$(".navbar-on-shadow").length===0&&$("#content").append('<div class="navbar-on-shadow"></div>')}),$(".m-dropdown").on("click",function(f){const l=$(this).parent();l.find("> .mobi-menu-sub").slideToggle("fast"),l.toggleClass("menu-open")}),$("body").on("click",".navbar-on-shadow",function(){$("#navbutton").trigger("click")}),$(".mobi-menu").on("click","a",function(){$("#navbutton").trigger("click")})},c=function(){$(".gotop").on("click",function(a){return a.preventDefault(),$("html, body").animate({scrollTop:$("html").offset().top},500),!1})},r=function(){const a=$(".wechat .i-wechat"),n=$(".wechat-pic");a.hover(function(){n.stop().fadeIn("fast")},function(){n.stop().fadeOut("fast")})},u=function(){$(document.body).on("click",".nav-tabs > a.nav-item.nav-link",function(a){$(".nav-tabs > a.nav-item.nav-link").removeClass("active"),$(this).addClass("active");const n=$($(this).attr("href"));let t=j(n);$(".tab-content .tab-pane").removeClass("show"),setTimeout(()=>{n.siblings().removeClass("active"),n.addClass("active")},t),setTimeout(()=>{n.addClass("show")},t*2-50),a.preventDefault()})},m=function(){$(document.body).on("click",'.btn[data-toggle="modal"]',function(a){const n=$(this).attr("data-target");let t=$(n);const i=$("#content .container");if(t){t.removeClass("hide").addClass("show"),i.removeClass("hide").addClass("show"),$(document.body).addClass("modal-active"),t.find(".modal-content>*").on("click",function(h){h.stopPropagation()});const e=function(){t.addClass("hide"),i.addClass("hide").removeClass("show"),$(document.body).removeClass("modal-active")};t.find(".btn-close").one("click",e),t.one("click",e)}else return 0})},g=function(){$("#addsmile").on("click",function(a){return $(".smile").fadeToggle(300),$(document).one("click",function(){$(".smile").fadeToggle(300)}),a.stopPropagation(),!1})},d=function(){$.fn.postLike=function(){if($(this).hasClass("done"))return C.msg(kratos.repeat),!1;{$(this).addClass("done"),C.msg(kratos.thanks);const a=$(this).data("id"),n=$(this).data("action"),t={action:"love",um_id:a,um_action:n};return $.post(kratos.site+"/wp-admin/admin-ajax.php",t,function(i){}),!1}},$(document).on("click",".btn-thumbs",function(){$(this).postLike()})},v=function(){$(".choose-pay input[type='radio']").on("click",function(){const a=$(this).attr("id");a==="alipay"&&($(".qr-pay #alipay_qr").removeClass("d-none"),$(".qr-pay #wechat_qr").addClass("d-none")),a==="wechatpay"&&($(".qr-pay #alipay_qr").addClass("d-none"),$(".qr-pay #wechat_qr").removeClass("d-none"))})},w=function(){$(document).on("click",".acheader",function(a){const n=$(this);n.closest(".accordion").find(".contents").slideToggle(300),n.closest(".accordion").hasClass("active")?n.closest(".accordion").removeClass("active"):n.closest(".accordion").addClass("active")})},k=function(){console.log("Kratos-pe v"+s+"https://github.com/Virace/kratos-pe")},b=function(){const a=document.getElementById("content");function n(){lightGallery(a,{mode:"lg-slide-circular",selector:"figure.wp-block-image, div.wp-block-image > figure, .blocks-gallery-item figure"})}const t=$(".article .content img");if(t.length>=1)if(t.each(function(i){const e=$(this.parentNode);e.attr("data-src",this.src);const h=e.find("figcaption");h.length&&e.attr("data-sub-html","<h4>"+h.text()+"</h4>")}),typeof lightGallery=="undefined"){const i=kratos.directory,e=[i+"/assets/css/lightgallery.js/lightgallery.min.css",i+"/assets/css/lightgallery.js/lg-transitions.min.css"],h=[i+"/assets/js/lightgallery.js/lightgallery.min.js",i+"/assets/js/lightgallery.js/lg-thumbnail.min.js"];p.LoadCSS(e,"").then(),p.LoadJS(h).then(n)}else{try{window.lgData[a.getAttribute("lg-uid")].destroy(!0)}catch(i){}n()}},y=function(a){function n(){document.querySelectorAll("pre code").forEach(t=>{hljs.highlightBlock(t),hljs.lineNumbersBlock(t),hljs.addCopyButton(t)})}if($("pre code").length>=1)if(typeof hljs=="undefined"){const t=kratos.directory;p.LoadCSS([t+"/assets/css/highlight/style.min.css"],"").then(e=>{});let i=[t+"/assets/js/highlight/highlight.pack.js",t+"/assets/js/highlight/highlightjs-copy-button.min.js",t+"/assets/js/highlight/highlightjs-line-numbers.min.js"];p.LoadJS(i,"").then(n)}else n()};window.pjax_reload=function(){r(),g(),d(),v(),y(),b(),m(),u()},$(function(){w(),o(),m(),u(),c(),r(),g(),d(),v(),k(),b(),y()})})();const p={_load:function(s,o,c){let r={};switch(s){case"css":{r={tag:"link",attr:{type:"text/css",rel:"stylesheet"}};break}case"js":{r={tag:"script",attr:{type:"text/javascript"}};break}}return new Promise(function(u){o.forEach(function(m,g){let d=document.createElement(r.tag);Object.assign(d,r.attr),s==="css"?d.href=(c||"")+m:d.src=(c||"")+m,d.async=!1,g===o.length-1&&(d.onreadystatechange=u,d.onload=u),document.body.appendChild(d)})})},LoadJS:function(s,o){return this._load("js",s,o)},LoadCSS:function(s,o){return this._load("css",s,o)}},C={_initEvent:function(s){const o=document.createElement("div");return o.setAttribute("class","toast"),o.style.display="none",o.innerHTML='<div class="toast-body text-center">'+s+"</div>",document.body.appendChild(o),$(o)},msg:function(s,o=2e3,c=null){const r=this._initEvent(s,o);r.fadeIn(300),setTimeout(function(){typeof c=="function"&&c(),r.fadeOut(300),setTimeout(function(){r.remove()},300)},o)}};function j(s){if(!s)return 0;let o=$(s).css("transition-duration"),c=$(s).css("transition-delay");const r=parseFloat(o),u=parseFloat(c);return!r&&!u?0:(o=o.split(",")[0],c=c.split(",")[0],(parseFloat(o)+parseFloat(c))*1e3)}$("body").on("click",'a[href^="#toc"],area[href^="#toc"]',function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){let s=$(this.hash),o=$(".navbar")[0].offsetHeight;if(s=s.length&&s||$("[name="+this.hash.slice(1)+"]"),s.length){const c=s.offset().top;return $("html,body").stop().animate({scrollTop:c-o-5},1e3),!1}}});})();
/*!
 * Kratos
 * Seaton Jiang <seaton@vtrois.com> and Virace <Virace@aliyun.com>
 */
