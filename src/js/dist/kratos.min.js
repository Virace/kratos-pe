(()=>{(function(){"use strict";const s="1.0.0-rc",e=function(){const o=$(".dropdown-menu");function n(){const f=window.scrollY,l=$(".k-nav.navbar");f>0?(l.addClass("navbar-scrolled"),o.addClass("navbar-scrolled")):(l.removeClass("navbar-scrolled"),o.removeClass("navbar-scrolled"))}$(window).scroll(n),$(document).ready(n),$(".auto-hiding-navbar").autoHidingNavbar({animationDuration:500,showOnBottom:!1,showOnUpscroll:!0});const t=$(".dropdown"),i=$(".dropdown-toggle");$(window).on("load resize",function(){if(this.matchMedia("(min-width: 992px)").matches){t.hover(function(){const l=$(this);l.find(o).stop().fadeIn("fast"),l.find(i).attr("aria-expanded","true")},function(){const l=$(this);l.find(o).stop().fadeOut("fast"),l.find(i).attr("aria-expanded","false")});let f=$(".navbar")[0].offsetHeight+75;$("body").scrollspy({target:"#toc",offset:f})}else t.off("mouseenter mouseleave")});const a=$("#navbarResponsive").clone();a.removeAttr("id"),a.attr({class:"mobi-navbar"}),a.find("*").removeAttr("id"),a.find("*:not(.dropdown)").removeAttr("class"),a.find("*").removeAttr("role"),a.find("*").removeAttr("aria-current"),a.find("*").removeAttr("aria-haspopup"),a.find("*").removeAttr("aria-expanded"),a.find("*").removeAttr("data-toggle"),a.find("*").removeAttr("aria-labelledby"),a.find("> ul").attr({class:"mobi-menu"}),a.find("li > ul").attr({class:"mobi-menu-sub"}),a.find(".dropdown").attr({class:"dropdown"}),$("header.k-header").prepend(a);const h=$(".mobi-navbar li.dropdown");for(let f=0;f<h.length;f++){const l=$(h[f]);l.find(".m-dropdown").length===0&&l.append('<div class="m-dropdown"><span class="vicon i-down"></span></div>')}$("#navbutton").on("click",function(f){$("body").toggleClass("menu-on"),$(".navbar-on-shadow").length===0&&$("#content").append('<div class="navbar-on-shadow"></div>')}),$(".m-dropdown").on("click",function(f){const l=$(this).parent();l.find("> .mobi-menu-sub").slideToggle("fast"),l.toggleClass("menu-open")}),$("body").on("click",".navbar-on-shadow",function(){$("#navbutton").trigger("click")}),$(".mobi-menu").on("click","a",function(){$("#navbutton").trigger("click")})},c=function(){const o=$(".gotop"),n=$(".navbar")[0].offsetHeight+75;$(window).on("load",function(){const t=$(window);t.scrollTop()>n?o.fadeIn(300):o.fadeOut(300),t.scroll(function(){t.scrollTop()>n?o.fadeIn(300):o.fadeOut(300)})}),o.on("click",function(t){return t.preventDefault(),$("html, body").animate({scrollTop:$("html").offset().top},500),!1})},r=function(){const o=$(".wechat .i-wechat"),n=$(".wechat-pic");o.hover(function(){n.stop().fadeIn("fast")},function(){n.stop().fadeOut("fast")})},u=function(){$(document.body).on("click",".nav-tabs > a.nav-item.nav-link",function(o){$(".nav-tabs > a.nav-item.nav-link").removeClass("active"),$(this).addClass("active");const n=$($(this).attr("href"));let t=j(n);$(".tab-content .tab-pane").removeClass("show"),setTimeout(()=>{n.siblings().removeClass("active"),n.addClass("active")},t),setTimeout(()=>{n.addClass("show")},t*2-50),o.preventDefault()})},g=function(){$(document.body).on("click",'.btn[data-toggle="modal"]',function(o){const n=$(this).attr("data-target");let t=$(n);const i=$("#content .container");if(t){t.removeClass("hide").addClass("show"),i.removeClass("hide").addClass("show"),$(document.body).addClass("modal-active"),t.find(".modal-content>*").on("click",function(h){h.stopPropagation()});const a=function(){t.addClass("hide"),i.addClass("hide").removeClass("show"),$(document.body).removeClass("modal-active")};t.find(".btn-close").one("click",a),t.one("click",a)}else return 0})},m=function(){$("#addsmile").on("click",function(o){return $(".smile").fadeToggle(300),$(document).one("click",function(){$(".smile").fadeToggle(300)}),o.stopPropagation(),!1})},d=function(){$.fn.postLike=function(){if($(this).hasClass("done"))return w.msg(kratos.repeat),!1;{$(this).addClass("done"),w.msg(kratos.thanks);const o=$(this).data("id"),n=$(this).data("action"),t={action:"love",um_id:o,um_action:n};return $.post(kratos.site+"/wp-admin/admin-ajax.php",t,function(i){}),!1}},$(document).on("click",".btn-thumbs",function(){$(this).postLike()})},v=function(){$(".choose-pay input[type='radio']").on("click",function(){const o=$(this).attr("id");o==="alipay"&&($(".qr-pay #alipay_qr").removeClass("d-none"),$(".qr-pay #wechat_qr").addClass("d-none")),o==="wechatpay"&&($(".qr-pay #alipay_qr").addClass("d-none"),$(".qr-pay #wechat_qr").removeClass("d-none"))})},C=function(){$(document).on("click",".acheader",function(o){const n=$(this);n.closest(".accordion").find(".contents").slideToggle(300),n.closest(".accordion").hasClass("active")?n.closest(".accordion").removeClass("active"):n.closest(".accordion").addClass("active")})},k=function(){console.log("Kratos-pe v"+s+"https://github.com/Virace/kratos-pe")},b=function(){const o=document.getElementById("content");function n(){lightGallery(o,{mode:"lg-slide-circular",selector:"figure.wp-block-image, div.wp-block-image > figure, .blocks-gallery-item figure"})}const t=$(".article .content img");if(t.length>=1)if(t.each(function(i){const a=$(this.parentNode);a.attr("data-src",this.src);const h=a.find("figcaption");h.length&&a.attr("data-sub-html","<h4>"+h.text()+"</h4>")}),typeof lightGallery=="undefined"){const i=kratos.directory,a=[i+"/assets/css/lightgallery.js/lightgallery.min.css",i+"/assets/css/lightgallery.js/lg-transitions.min.css"],h=[i+"/assets/js/lightgallery.js/lightgallery.min.js",i+"/assets/js/lightgallery.js/lg-thumbnail.min.js"];p.LoadCSS(a,"").then(),p.LoadJS(h).then(n)}else{try{window.lgData[o.getAttribute("lg-uid")].destroy(!0)}catch(i){}n()}},y=function(o){function n(){document.querySelectorAll("pre code").forEach(t=>{hljs.highlightBlock(t),hljs.lineNumbersBlock(t),hljs.addCopyButton(t)})}if($("pre code").length>=1)if(typeof hljs=="undefined"){const t=kratos.directory;p.LoadCSS([t+"/assets/css/highlight/style.min.css"],"").then(a=>{});let i=[t+"/assets/js/highlight/highlight.pack.js",t+"/assets/js/highlight/highlightjs-copy-button.min.js",t+"/assets/js/highlight/highlightjs-line-numbers.min.js"];p.LoadJS(i,"").then(n)}else n()};window.pjax_reload=function(){r(),m(),d(),v(),y(),b(),g(),u()},$(function(){C(),e(),g(),u(),c(),r(),m(),d(),v(),k(),b(),y()})})();const p={_load:function(s,e,c){let r={};switch(s){case"css":{r={tag:"link",attr:{type:"text/css",rel:"stylesheet"}};break}case"js":{r={tag:"script",attr:{type:"text/javascript"}};break}}return new Promise(function(u){e.forEach(function(g,m){let d=document.createElement(r.tag);Object.assign(d,r.attr),s==="css"?d.href=(c||"")+g:d.src=(c||"")+g,d.async=!1,m===e.length-1&&(d.onreadystatechange=u,d.onload=u),document.body.appendChild(d)})})},LoadJS:function(s,e){return this._load("js",s,e)},LoadCSS:function(s,e){return this._load("css",s,e)}},w={_initEvent:function(s){const e=document.createElement("div");return e.setAttribute("class","toast"),e.style.display="none",e.innerHTML='<div class="toast-body text-center">'+s+"</div>",document.body.appendChild(e),$(e)},msg:function(s,e=2e3,c=null){const r=this._initEvent(s,e);r.fadeIn(300),setTimeout(function(){typeof c=="function"&&c(),r.fadeOut(300),setTimeout(function(){r.remove()},300)},e)}};function j(s){if(!s)return 0;let e=$(s).css("transition-duration"),c=$(s).css("transition-delay");const r=parseFloat(e),u=parseFloat(c);return!r&&!u?0:(e=e.split(",")[0],c=c.split(",")[0],(parseFloat(e)+parseFloat(c))*1e3)}$("body").on("click",'a[href^="#toc"],area[href^="#toc"]',function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){let s=$(this.hash),e=$(".navbar")[0].offsetHeight;if(s=s.length&&s||$("[name="+this.hash.slice(1)+"]"),s.length){const c=s.offset().top;return $("html,body").stop().animate({scrollTop:c-e-5},1e3),!1}}});})();
/*!
 * Kratos
 * Seaton Jiang <seaton@vtrois.com> and Virace <Virace@aliyun.com>
 */
