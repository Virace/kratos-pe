(()=>{(function(){"use strict";const n="1.0.0-rc",t=function(){const o=$(".dropdown-menu");function s(){const u=window.scrollY,r=$(".k-nav.navbar");u>0?(r.addClass("navbar-scrolled"),o.addClass("navbar-scrolled")):(r.removeClass("navbar-scrolled"),o.removeClass("navbar-scrolled"))}$(window).scroll(s),$(document).ready(s),$(".auto-hiding-navbar").autoHidingNavbar({animationDuration:500,showOnBottom:!1,showOnUpscroll:!0});const e=$(".dropdown"),i=$(".dropdown-toggle");$(window).on("load resize",function(){if(this.matchMedia("(min-width: 992px)").matches){e.hover(function(){const r=$(this);r.find(o).stop().fadeIn("fast"),r.find(i).attr("aria-expanded","true")},function(){const r=$(this);r.find(o).stop().fadeOut("fast"),r.find(i).attr("aria-expanded","false")});let u=$(".navbar")[0].offsetHeight+75;$("body").scrollspy({target:"#toc",offset:u})}else e.off("mouseenter mouseleave")});const a=$("#navbarResponsive").clone();a.removeAttr("id"),a.attr({class:"mobi-navbar"}),a.find("*").removeAttr("id"),a.find("*:not(.dropdown)").removeAttr("class"),a.find("*").removeAttr("role"),a.find("*").removeAttr("aria-current"),a.find("*").removeAttr("aria-haspopup"),a.find("*").removeAttr("aria-expanded"),a.find("*").removeAttr("data-toggle"),a.find("*").removeAttr("aria-labelledby"),a.find("> ul").attr({class:"mobi-menu"}),a.find("li > ul").attr({class:"mobi-menu-sub"}),a.find(".dropdown").attr({class:"dropdown"}),$("header.k-header").prepend(a);const f=$(".mobi-navbar li.dropdown");for(let u=0;u<f.length;u++){const r=$(f[u]);r.find(".m-dropdown").length===0&&r.append('<div class="m-dropdown"><span class="vicon i-down"></span></div>')}$("#navbutton").on("click",function(u){$("body").toggleClass("menu-on"),$(".navbar-on-shadow").length===0&&$("#content").append('<div class="navbar-on-shadow"></div>')}),$(".m-dropdown").on("click",function(u){const r=$(this).parent();r.find("> .mobi-menu-sub").slideToggle("fast"),r.toggleClass("menu-open")}),$("body").on("click",".navbar-on-shadow",function(){$("#navbutton").trigger("click")}),$(".mobi-menu").on("click","a",function(){$("#navbutton").trigger("click")})},c=function(){const o=$(".gotop"),s=$(".navbar")[0].offsetHeight+75,e=$(window);e.scroll(function(){e.scrollTop()>s?o.fadeIn(300):o.fadeOut(300)}),o.on("click",function(i){return i.preventDefault(),$("html, body").animate({scrollTop:$("html").offset().top},500),!1})},l=function(){const o=$(".wechat .i-wechat"),s=$(".wechat-pic");o.hover(function(){s.stop().fadeIn("fast")},function(){s.stop().fadeOut("fast")})},d=function(){$(document.body).on("click",".nav-tabs > a.nav-item.nav-link",function(o){$(".nav-tabs > a.nav-item.nav-link").removeClass("active"),$(this).addClass("active");const s=$($(this).attr("href"));let e=j(s);$(".tab-content .tab-pane").removeClass("show"),setTimeout(()=>{s.siblings().removeClass("active"),s.addClass("active")},e),setTimeout(()=>{s.addClass("show")},e*2-50),o.preventDefault()})},m=function(){$(document.body).on("click",'.btn[data-toggle="modal"]',function(o){const s=$(this).attr("data-target");let e=$(s);const i=$("#content .container");if(e){e.removeClass("hide").addClass("show"),i.removeClass("hide").addClass("show"),$(document.body).addClass("modal-active"),e.find(".modal-content>*").on("click",function(f){f.stopPropagation()});const a=function(){e.addClass("hide"),i.addClass("hide").removeClass("show"),$(document.body).removeClass("modal-active")};e.find(".btn-close").one("click",a),e.one("click",a)}else return 0})},g=function(){$("#addsmile").on("click",function(o){return $(".smile").fadeToggle(300),$(document).one("click",function(){$(".smile").fadeToggle(300)}),o.stopPropagation(),!1})},h=function(){$.fn.postLike=function(){if($(this).hasClass("done"))return w.msg(kratos.repeat),!1;{$(this).addClass("done"),w.msg(kratos.thanks);const o=$(this).data("id"),s=$(this).data("action"),e={action:"love",um_id:o,um_action:s};return $.post(kratos.site+"/wp-admin/admin-ajax.php",e,function(i){}),!1}},$(document).on("click",".btn-thumbs",function(){$(this).postLike()})},v=function(){$(".choose-pay input[type='radio']").on("click",function(){const o=$(this).attr("id");o==="alipay"&&($(".qr-pay #alipay_qr").removeClass("d-none"),$(".qr-pay #wechat_qr").addClass("d-none")),o==="wechatpay"&&($(".qr-pay #alipay_qr").addClass("d-none"),$(".qr-pay #wechat_qr").removeClass("d-none"))})},C=function(){$(document).on("click",".acheader",function(o){const s=$(this);s.closest(".accordion").find(".contents").slideToggle(300),s.closest(".accordion").toggleClass("active")})},k=function(){console.log("Kratos-pe v"+n+"https://github.com/Virace/kratos-pe")},b=function(){const o=document.getElementById("content");function s(){lightGallery(o,{mode:"lg-slide-circular",selector:"figure.wp-block-image, div.wp-block-image > figure, .blocks-gallery-item figure"})}const e=$(".article .content img");if(e.length>=1)if(e.each(function(i){const a=$(this.parentNode);a.attr("data-src",this.src);const f=a.find("figcaption");f.length&&a.attr("data-sub-html","<h4>"+f.text()+"</h4>")}),typeof lightGallery=="undefined"){const i=kratos.directory,a=[i+"/assets/css/lightgallery.js/lightgallery.min.css",i+"/assets/css/lightgallery.js/lg-transitions.min.css"],f=[i+"/assets/js/lightgallery.js/lightgallery.min.js",i+"/assets/js/lightgallery.js/lg-thumbnail.min.js"];p.LoadCSS(a,"").then(),p.LoadJS(f).then(s)}else{try{window.lgData[o.getAttribute("lg-uid")].destroy(!0)}catch(i){}s()}},y=function(o){function s(){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightBlock(e),hljs.lineNumbersBlock(e),hljs.addCopyButton(e)})}if($("pre code").length>=1)if(typeof hljs=="undefined"){const e=kratos.directory;p.LoadCSS([e+"/assets/css/highlight/style.min.css"],"").then(a=>{});let i=[e+"/assets/js/highlight/highlight.pack.js",e+"/assets/js/highlight/highlightjs-copy-button.min.js",e+"/assets/js/highlight/highlightjs-line-numbers.min.js"];p.LoadJS(i,"").then(s)}else s()};window.pjax_reload=function(){l(),g(),h(),v(),y(),b(),m(),d()},$(function(){C(),t(),m(),d(),c(),l(),g(),h(),v(),k(),b(),y()})})();const p={_load:function(n,t,c){let l={};switch(n){case"css":{l={tag:"link",attr:{type:"text/css",rel:"stylesheet"}};break}case"js":{l={tag:"script",attr:{type:"text/javascript"}};break}}return new Promise(function(d){t.forEach(function(m,g){let h=document.createElement(l.tag);Object.assign(h,l.attr),n==="css"?h.href=(c||"")+m:h.src=(c||"")+m,h.async=!1,g===t.length-1&&(h.onreadystatechange=d,h.onload=d),document.body.appendChild(h)})})},LoadJS:function(n,t){return this._load("js",n,t)},LoadCSS:function(n,t){return this._load("css",n,t)}},w={_initEvent:function(n){const t=document.createElement("div");return t.setAttribute("class","toast"),t.style.display="none",t.innerHTML='<div class="toast-body text-center">'+n+"</div>",document.body.appendChild(t),$(t)},msg:function(n,t=2e3,c=null){const l=this._initEvent(n,t);l.fadeIn(300),setTimeout(function(){typeof c=="function"&&c(),l.fadeOut(300),setTimeout(function(){l.remove()},300)},t)}};function j(n){if(!n)return 0;let t=$(n).css("transition-duration"),c=$(n).css("transition-delay");const l=parseFloat(t),d=parseFloat(c);return!l&&!d?0:(t=t.split(",")[0],c=c.split(",")[0],(parseFloat(t)+parseFloat(c))*1e3)}window.grin=function(n){let t;if(n=" "+n+" ",document.getElementById("comment")&&document.getElementById("comment").type=="textarea")t=document.getElementById("comment");else return!1;if(document.selection)t.focus(),sel=document.selection.createRange(),sel.text=n,t.focus();else if(t.selectionStart||t.selectionStart=="0"){var c=t.selectionStart,l=t.selectionEnd,d=l;t.value=t.value.substring(0,c)+n+t.value.substring(l,t.value.length),d+=n.length,t.focus(),t.selectionStart=d,t.selectionEnd=d}else t.value+=n,t.focus()};$("body").on("click",'a[href^="#toc"],area[href^="#toc"]',function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){let n=$(this.hash),t=$(".navbar")[0].offsetHeight;if(n=n.length&&n||$("[name="+this.hash.slice(1)+"]"),n.length){const c=n.offset().top;return $("html,body").stop().animate({scrollTop:c-t-5},1e3),!1}}});})();
/*!
 * Kratos
 * Seaton Jiang <seaton@vtrois.com> and Virace <Virace@aliyun.com>
 */
