(()=>{(function(){"use strict";const a="1.0.0-rc",e=function(){const n=$(".dropdown-menu");function o(){const f=window.scrollY,l=$(".k-nav.navbar");f>0?(l.addClass("navbar-scrolled"),n.addClass("navbar-scrolled")):(l.removeClass("navbar-scrolled"),n.removeClass("navbar-scrolled"))}$(window).scroll(o),$(document).ready(o),$(".auto-hiding-navbar").autoHidingNavbar({animationDuration:500,showOnBottom:!1,showOnUpscroll:!0});const t=$(".dropdown"),i=$(".dropdown-toggle");$(window).on("load resize",function(){if(this.matchMedia("(min-width: 992px)").matches){t.hover(function(){const l=$(this);l.find(n).stop().fadeIn("fast"),l.find(i).attr("aria-expanded","true")},function(){const l=$(this);l.find(n).stop().fadeOut("fast"),l.find(i).attr("aria-expanded","false")});let f=$(".navbar")[0].offsetHeight+75;$("body").scrollspy({target:"#toc",offset:f})}else t.off("mouseenter mouseleave")});const s=$("#navbarResponsive").clone();s.removeAttr("id"),s.attr({class:"mobi-navbar"}),s.find("*").removeAttr("id"),s.find("*:not(.dropdown)").removeAttr("class"),s.find("*").removeAttr("role"),s.find("*").removeAttr("aria-current"),s.find("*").removeAttr("aria-haspopup"),s.find("*").removeAttr("aria-expanded"),s.find("*").removeAttr("data-toggle"),s.find("*").removeAttr("aria-labelledby"),s.find("> ul").attr({class:"mobi-menu"}),s.find("li > ul").attr({class:"mobi-menu-sub"}),s.find(".dropdown").attr({class:"dropdown"}),$("header.k-header").prepend(s);const h=$(".mobi-navbar li.dropdown");for(let f=0;f<h.length;f++){const l=$(h[f]);l.find(".m-dropdown").length===0&&l.append('<div class="m-dropdown"><span class="vicon i-down"></span></div>')}$("#navbutton").on("click",function(f){$("body").toggleClass("menu-on"),$(".navbar-on-shadow").length===0&&$("#content").append('<div class="navbar-on-shadow"></div>')}),$(".m-dropdown").on("click",function(f){const l=$(this).parent();l.find("> .mobi-menu-sub").slideToggle("fast"),l.toggleClass("menu-open")}),$("body").on("click",".navbar-on-shadow",function(){$("#navbutton").trigger("click")}),$(".mobi-menu").on("click","a",function(){$("#navbutton").trigger("click")})},c=function(){const n=$(".gotop"),o=$(".navbar")[0].offsetHeight+75,t=$(window);t.scroll(function(){t.scrollTop()>o?n.fadeIn(300):n.fadeOut(300)}),n.on("click",function(i){return i.preventDefault(),$("html, body").animate({scrollTop:$("html").offset().top},500),!1})},r=function(){const n=$(".wechat .i-wechat"),o=$(".wechat-pic");n.hover(function(){o.stop().fadeIn("fast")},function(){o.stop().fadeOut("fast")})},u=function(){$(document.body).on("click",".nav-tabs > a.nav-item.nav-link",function(n){$(".nav-tabs > a.nav-item.nav-link").removeClass("active"),$(this).addClass("active");const o=$($(this).attr("href"));let t=j(o);$(".tab-content .tab-pane").removeClass("show"),setTimeout(()=>{o.siblings().removeClass("active"),o.addClass("active")},t),setTimeout(()=>{o.addClass("show")},t*2-50),n.preventDefault()})},g=function(){$(document.body).on("click",'.btn[data-toggle="modal"]',function(n){const o=$(this).attr("data-target");let t=$(o);const i=$("#content .container");if(t){t.removeClass("hide").addClass("show"),i.removeClass("hide").addClass("show"),$(document.body).addClass("modal-active"),t.find(".modal-content>*").on("click",function(h){h.stopPropagation()});const s=function(){t.addClass("hide"),i.addClass("hide").removeClass("show"),$(document.body).removeClass("modal-active")};t.find(".btn-close").one("click",s),t.one("click",s)}else return 0})},m=function(){$("#addsmile").on("click",function(n){return $(".smile").fadeToggle(300),$(document).one("click",function(){$(".smile").fadeToggle(300)}),n.stopPropagation(),!1})},d=function(){$.fn.postLike=function(){if($(this).hasClass("done"))return y.msg(kratos.repeat),!1;{$(this).addClass("done"),y.msg(kratos.thanks);const n=$(this).data("id"),o=$(this).data("action"),t={action:"love",um_id:n,um_action:o};return $.post(kratos.site+"/wp-admin/admin-ajax.php",t,function(i){}),!1}},$(document).on("click",".btn-thumbs",function(){$(this).postLike()})},v=function(){$(".choose-pay input[type='radio']").on("click",function(){const n=$(this).attr("id");n==="alipay"&&($(".qr-pay #alipay_qr").removeClass("d-none"),$(".qr-pay #wechat_qr").addClass("d-none")),n==="wechatpay"&&($(".qr-pay #alipay_qr").addClass("d-none"),$(".qr-pay #wechat_qr").removeClass("d-none"))})},C=function(){$(document).on("click",".acheader",function(n){const o=$(this);o.closest(".accordion").find(".contents").slideToggle(300),o.closest(".accordion").toggleClass("active")})},k=function(){console.log("Kratos-pe v"+a+"https://github.com/Virace/kratos-pe")},b=function(){const n=document.getElementById("content");function o(){lightGallery(n,{mode:"lg-slide-circular",selector:"figure.wp-block-image, div.wp-block-image > figure, .blocks-gallery-item figure"})}const t=$(".article .content img");if(t.length>=1)if(t.each(function(i){const s=$(this.parentNode);s.attr("data-src",this.src);const h=s.find("figcaption");h.length&&s.attr("data-sub-html","<h4>"+h.text()+"</h4>")}),typeof lightGallery=="undefined"){const i=kratos.directory,s=[i+"/assets/css/lightgallery.js/lightgallery.min.css",i+"/assets/css/lightgallery.js/lg-transitions.min.css"],h=[i+"/assets/js/lightgallery.js/lightgallery.min.js",i+"/assets/js/lightgallery.js/lg-thumbnail.min.js"];p.LoadCSS(s,"").then(),p.LoadJS(h).then(o)}else{try{window.lgData[n.getAttribute("lg-uid")].destroy(!0)}catch(i){}o()}},w=function(n){function o(){document.querySelectorAll("pre code").forEach(t=>{hljs.highlightBlock(t),hljs.lineNumbersBlock(t),hljs.addCopyButton(t)})}if($("pre code").length>=1)if(typeof hljs=="undefined"){const t=kratos.directory;p.LoadCSS([t+"/assets/css/highlight/style.min.css"],"").then(s=>{});let i=[t+"/assets/js/highlight/highlight.pack.js",t+"/assets/js/highlight/highlightjs-copy-button.min.js",t+"/assets/js/highlight/highlightjs-line-numbers.min.js"];p.LoadJS(i,"").then(o)}else o()};window.pjax_reload=function(){r(),m(),d(),v(),w(),b(),g(),u()},$(function(){C(),e(),g(),u(),c(),r(),m(),d(),v(),k(),b(),w()})})();const p={_load:function(a,e,c){let r={};switch(a){case"css":{r={tag:"link",attr:{type:"text/css",rel:"stylesheet"}};break}case"js":{r={tag:"script",attr:{type:"text/javascript"}};break}}return new Promise(function(u){e.forEach(function(g,m){let d=document.createElement(r.tag);Object.assign(d,r.attr),a==="css"?d.href=(c||"")+g:d.src=(c||"")+g,d.async=!1,m===e.length-1&&(d.onreadystatechange=u,d.onload=u),document.body.appendChild(d)})})},LoadJS:function(a,e){return this._load("js",a,e)},LoadCSS:function(a,e){return this._load("css",a,e)}},y={_initEvent:function(a){const e=document.createElement("div");return e.setAttribute("class","toast"),e.style.display="none",e.innerHTML='<div class="toast-body text-center">'+a+"</div>",document.body.appendChild(e),$(e)},msg:function(a,e=2e3,c=null){const r=this._initEvent(a,e);r.fadeIn(300),setTimeout(function(){typeof c=="function"&&c(),r.fadeOut(300),setTimeout(function(){r.remove()},300)},e)}};function j(a){if(!a)return 0;let e=$(a).css("transition-duration"),c=$(a).css("transition-delay");const r=parseFloat(e),u=parseFloat(c);return!r&&!u?0:(e=e.split(",")[0],c=c.split(",")[0],(parseFloat(e)+parseFloat(c))*1e3)}$("body").on("click",'a[href^="#toc"],area[href^="#toc"]',function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){let a=$(this.hash),e=$(".navbar")[0].offsetHeight;if(a=a.length&&a||$("[name="+this.hash.slice(1)+"]"),a.length){const c=a.offset().top;return $("html,body").stop().animate({scrollTop:c-e-5},1e3),!1}}});})();
/*!
 * Kratos
 * Seaton Jiang <seaton@vtrois.com> and Virace <Virace@aliyun.com>
 */
