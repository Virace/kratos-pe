(()=>{const f=["data:","/wp-","/rss","/feed","/sitemap.xml","/sitemap.html","#respond","#toc_i-","#toc-","javascript:",".pdf",".zip",".rar",".7z",".jpg",".png",".gif",".bmp","#nav"],c="main",s={click:{"*:not(#comments-nav)>a[target!=_blank]":function(t){for(let n in f)if(t.indexOf(f[n])>=0)return!0;return l(t,"pagelink"),!1},"#comments-nav a":function(t){return l(t,"comtpagenav"),!1},".comment-content-link > a":function(t){return l(t,"comment"),!1}},submit:{"#searchform":function(){return l(this.action+"?s="+$(this).find("#search").val(),"search"),!1}}};for(let t in s)for(let n in s[t])$(document).on(t,n,function(){const i=$(this).attr("href");return i?s[t][n](i):!1});function d(t,n){const i=$("body,html");let e=$(".navbar")[0].offsetHeight;if(n==="comtpagenav")i.animate({scrollTop:$("#comments").offset().top-e},1e3);else if(n==="pagelink"||n==="search")t.indexOf("#")===-1&&i.animate({scrollTop:$(c).offset().top-e},1e3);else if(n==="comment"){const o=/#comment-\d+/.exec(t);if(o.length>0){const r=$(o[0]).offset().top;$("html,body").animate({scrollTop:r-e-5},1e3)}}}$(function(){window.addEventListener("popstate",function(t){t.state&&(document.title=t.state.title,$(c).html(t.state.html),window.load=window.pjax_reload())})});function a(t,n){return t.filter(n).add(t.find(n))}function h(t){return $.parseHTML(t,document,!0)}function u(t){return $(h(t))}function l(t,n,i){NProgress.start(),$.ajax({url:t,type:"GET",data:i,beforeSend:function(){const e=window.document;history.replaceState({url:e.location.href,title:e.title,html:$(e).find(c).html()},e.title,e.location.href)},success:function(e){let o=u(e);const r=a(o,c).html();if(document.title=a(o,"title").text(),window.history.pushState({url:t,title:a(o,"title").text(),html:r},a(o,"title").text(),t),$(".introduce").html(a(o,".introduce").html()),n==="pagelink"){$(c).html(r);const m=window.location.hash.substring(location.hash.indexOf("#")+1);m&&$("body,html").animate({scrollTop:$("#"+m).offset().top-61},600)}else n==="search"?($(c).html(r),$("#searchform input").val("")):n==="comtpagenav"&&($("#comments").html(a(o,"#comments").html()),$("#comments-nav").html(a(o,"#comments-nav").html()));window.load=window.pjax_reload(),NProgress.done(),d(t,n)},error:function(e){location.href=t}})}})();
/*!
 * Kratos-ajax
 * Virace <Virace@aliyun.com>
 */
