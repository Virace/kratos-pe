/*!
 * Kratos
 * Seaton Jiang <seaton@vtrois.com> and Virace <Virace@aliyun.com>
 */
function loadScripts(t,o){return new Promise((function(n){t.forEach((function(e,a){let s=document.createElement("script");s.type="text/javascript",s.src=(o||"")+e,s.async=!1,a===t.length-1&&(s.onreadystatechange=n,s.onload=n),document.body.appendChild(s)}))}))}function grin(t){let o,n;if(t=" "+t+" ",!document.getElementById("comment")||"textarea"!==document.getElementById("comment").type)return!1;if(o=document.getElementById("comment"),document.selection)o.focus(),n=document.selection.createRange(),n.text=t,o.focus();else if(o.selectionStart||"0"===o.selectionStart){const n=o.selectionStart,e=o.selectionEnd;let a=e;o.value=o.value.substring(0,n)+t+o.value.substring(e,o.value.length),a+=t.length,o.focus(),o.selectionStart=a,o.selectionEnd=a}else o.value+=t,o.focus()}!function(){"use strict";const t=function(){$((function(){$('[data-toggle="tooltip"]').tooltip()}))},o=function(){let t=$(".wechat");t.mouseout((function(){$(".wechat-pic")[0].style.display="none"})),t.mouseover((function(){$(".wechat-pic")[0].style.display="block"}))},n=function(){$("#addsmile").on("click",(function(t){return $(".smile").toggleClass("open"),$(document).one("click",(function(){$(".smile").toggleClass("open")})),t.stopPropagation(),!1}))},e=function(){$.fn.postLike=function(){if($(this).hasClass("done"))return layer.msg(kratos.repeat,(function(){})),!1;$(this).addClass("done"),layer.msg(kratos.thanks);var t={action:"love",um_id:$(this).data("id"),um_action:$(this).data("action")};return $.post(kratos.site+"/wp-admin/admin-ajax.php",t,(function(t){})),!1},$(document).on("click",".btn-thumbs",(function(){$(this).postLike()}))},a=function(){$("#donate").on("click",(function(){layer.open({type:1,area:["300px","370px"],title:kratos.donate,resize:!1,scrollbar:!1,content:'<div class="donate-box"><div class="meta-pay text-center my-2"><strong>'+kratos.scan+'</strong></div><div class="qr-pay text-center"><img class="pay-img" id="alipay_qr" src="'+kratos.alipay+'"><img class="pay-img d-none" id="wechat_qr" src="'+kratos.wechat+'"></div><div class="choose-pay text-center mt-2"><input id="alipay" type="radio" name="pay-method" checked><label for="alipay" class="pay-button"><img src="'+kratos.directory+'/assets/img/payment/alipay.png"></label><input id="wechatpay" type="radio" name="pay-method"><label for="wechatpay" class="pay-button"><img src="'+kratos.directory+'/assets/img/payment/wechat.png"></label></div></div>'}),$(".choose-pay input[type='radio']").click((function(){const t=$(this).attr("id");"alipay"===t&&($(".qr-pay #alipay_qr").removeClass("d-none"),$(".qr-pay #wechat_qr").addClass("d-none")),"wechatpay"===t&&($(".qr-pay #alipay_qr").addClass("d-none"),$(".qr-pay #wechat_qr").removeClass("d-none"))}))}))},s=function(t){function o(){document.querySelectorAll("pre code").forEach(t=>{hljs.highlightBlock(t),hljs.lineNumbersBlock(t),hljs.addCopyButton(t)})}if($("pre code").length>=1)if("undefined"==typeof hljs){$("head").append('<link href="'+kratos.directory+'/assets/css/highlight/style.min.css" rel="stylesheet" type="text/css" />'),loadScripts([kratos.directory+"/assets/js/highlight/highlight.pack.js",kratos.directory+"/assets/js/highlight/highlightjs-copy-button.min.js",kratos.directory+"/assets/js/highlight/highlightjs-line-numbers.min.js"],"").then(o)}else o()};window.pjax_reload=function(){t(),o(),n(),e(),a(),s()},$((function(){$(document).on("click",".acheader",(function(t){const o=$(this);o.closest(".accordion").find(".contents").slideToggle(300),o.closest(".accordion").hasClass("active")?o.closest(".accordion").removeClass("active"):o.closest(".accordion").addClass("active"),t.preventDefault()})),function(){function t(){const t=window.scrollY,o=$(".k-nav.navbar");t>0?o.addClass("navbar-scrolled"):o.removeClass("navbar-scrolled")}$(window).scroll((function(){t()})),$(document).ready((function(){t()})),$(".auto-hiding-navbar").autoHidingNavbar({animationDuration:500,showOnBottom:!1,showOnUpscroll:!0});const o=$(".dropdown"),n=$(".dropdown-toggle"),e=$(".dropdown-menu"),a="show";$(window).on("load resize",(function(){if(this.matchMedia("(min-width: 992px)").matches){o.hover((function(){const t=$(this);t.addClass(a),t.find(n).attr("aria-expanded","true"),t.find(e).addClass(a)}),(function(){const t=$(this);t.removeClass(a),t.find(n).attr("aria-expanded","false"),t.find(e).removeClass(a)}));let t=$(".navbar")[0].offsetHeight+75;$("body").scrollspy({target:"#toc",offset:t})}else o.off("mouseenter mouseleave")}));const s=$("#navbarResponsive").clone();s.removeAttr("id"),s.attr({class:"mobi-navbar"}),s.find("*").removeAttr("id"),s.find("*:not(.dropdown)").removeAttr("class"),s.find("*").removeAttr("role"),s.find("*").removeAttr("aria-current"),s.find("*").removeAttr("aria-haspopup"),s.find("*").removeAttr("aria-expanded"),s.find("*").removeAttr("data-toggle"),s.find("*").removeAttr("aria-labelledby"),s.find("> ul").attr({class:"mobi-menu"}),s.find("li > ul").attr({class:"mobi-menu-sub"}),s.find(".dropdown").attr({class:"dropdown"}),$("header.k-header").prepend(s),function(){const t=$(".mobi-navbar li.dropdown");for(let o=0;o<t.length;o++){const n=$(t[o]);0===n.find(".m-dropdown").length&&n.append('<div class="m-dropdown"><span class="vicon i-down"></span></div>')}}(),$("#navbutton").on("click",(function(t){$("body").toggleClass("menu-on"),0===$(".navbar-on-shadow").length&&$("#content").append('<div class="navbar-on-shadow"></div>')})),$(".m-dropdown").on("click",(function(t){const o=$(this).parent();o.find("> .mobi-menu-sub").slideToggle("fast"),o.toggleClass("menu-open")})),$("body").on("click",".navbar-on-shadow",(function(){$("#navbutton").trigger("click")})),$(".mobi-menu").on("click","a",(function(){$("#navbutton").trigger("click")}))}(),t(),$(window).on("load",(function(){const t=$(window);t.scrollTop()>200?$(".gotop").addClass("active"):$(".gotop").removeClass("active"),t.scroll((function(){t.scrollTop()>200?$(".gotop").addClass("active"):$(".gotop").removeClass("active")}))})),$(".gotop").on("click",(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:$("html").offset().top},500),!1})),$(".search").on("click",(function(t){$(".search-form").animate({width:"200px"},200),$(".search-form input").css("display","block"),$(document).one("click",(function(){$(".search-form").animate({width:"0"},100),$(".search-form input").hide()})),t.stopPropagation()})),$(".search-form").on("click",(function(t){t.stopPropagation()})),o(),n(),e(),a(),console.log("\n Kratos v1.0.0-beta\n\n https://github.com/vtrois/kratos \n\n"),s()}))}();